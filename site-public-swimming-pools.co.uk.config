<VirtualHost *:80>

  ServerAdmin chris@seagul.co.uk
  ServerName public-swimming-pools.co.uk
  ServerAlias www.public-swimming-pools.co.uk
  
  DocumentRoot /home/chrisroos/www/public-swimming-pools.co.uk
  <Directory /home/chrisroos/www/public-swimming-pools.co.uk>
    AllowOverride All
    allow from all
  </Directory>
  
  RewriteEngine On
  
  # Remove www
  RewriteCond %{HTTP_HOST} ^www [NC]
  RewriteRule ^/(.*)$ http://public-swimming-pools.co.uk/$1 [R=301,L]
  
  # Redirect all .html requests to the index page.  Everything else should 404.
  RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /.+\.html\ HTTP/
  RewriteRule ^.*$ / [R=301,L]
  
  ErrorLog /home/chrisroos/www-logs/public-swimming-pools.co.uk.error
  CustomLog /home/chrisroos/www-logs/public-swimming-pools.co.uk.access common
  # RewriteLogLevel 3
  RewriteLog /home/chrisroos/www-logs/public-swimming-pools.co.uk.rewrite
  
</VirtualHost>